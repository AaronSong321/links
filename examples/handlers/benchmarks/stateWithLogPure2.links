# Microbenchmark stateful counting with logging (pure) 2
fun countPureLog(s) {
    var i = first(s(()));
    var is = second(s(()));
    if (i == 0) {
      (i, is)
    } else {
      countPureLog(fun(s) { (i-1, i :: is) })
    }
}

fun runPureCountLog(n) {
    first(countPureLog(fun(s) { (n, []) }))
}

fun b(n) {
    var x = runPureCountLog(n);
    ()
}

b(10^7)