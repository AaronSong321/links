#sig f : (Int) -> Int
fun f(x) {
  x+1
}

fun id(x) {
  x
}

#sig rec : (Bool, (Int) ~a~> Int) ~a~> ()
fun rec(b,h) {
  var _ = id(42);
  if (b) {
    print("1");	
    fun g(x) {print("3"); h(2)}
    rec(false,g)
  } else {
    print("2");
    var result = h(1);
    print("4")
  }
}

rec(true,f)
