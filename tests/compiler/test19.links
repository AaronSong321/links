#sig f : (Int) -> Int
fun f(x) {
  x+1
}


sig rec : (Bool, (Int) ~a~> Int) ~a~> ()
fun rec(b,f) {
  fun g(x) {fun (x) {print("3"); f(2)}
  if (b) {
    print("1");	
    rec(false,g)
  } else {
    print("2");
    var result = f(1);
    print("4")
  }
}

rec(true,f)
